{
  "version": 3,
  "sources": [
    "../node_modules/browser-pack/_prelude.js",
    "demo.ts",
    "src/bindNode.ts",
    "src/lobbyConnect.ts",
    "src/log.ts",
    "src/messages.ts",
    "src/myRoomConnect.ts",
    "src/util.ts",
    "../package.json"
  ],
  "names": [],
  "mappings": "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",
  "file": "generated.js",
  "sourceRoot": "",
  "sourcesContent": [
    "(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c=\"function\"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error(\"Cannot find module '\"+i+\"'\");throw a.code=\"MODULE_NOT_FOUND\",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u=\"function\"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()",
    "import P2P, { EventNames } from '..'\nimport { name as pkgName, version as pkgVersion } from '../package.json'\nimport bindNode from './src/bindNode'\nimport log from './src/log'\nimport { RandomRequest } from './src/messages'\nimport { htmlSafe } from './src/util'\nimport { PeerID } from 'ipfs'\n\nlet node: P2P<string>\nconst app = document.getElementById('app')! as HTMLDivElement\n\n// Create Node & Join Lobby button is pressed\nconst lobbyForm = document.getElementById('joinLobby')! as HTMLFormElement,\n      nameInput = document.getElementById('name')! as HTMLInputElement\nlobbyForm.addEventListener('submit', e => {\n    e.preventDefault()\n    app.removeChild(lobbyForm)\n\n    log('Creating Node')\n    node = new P2P(\n        nameInput.value.trim(),\n        `my-demo-${pkgName}@${pkgVersion}`,\n        {\n            allowSameBrowser: true,\n            maxIdleTime: 30 * 60 * 1000,\n        }\n    )\n    document.title += ` â€¢ ${node.name}` // Makes tab hunting easier\n    joinLobby()\n})\n\n// Rejoin Lobby button is pressed\nconst rejoinBtn = document.getElementById('rejoin')! as HTMLButtonElement\nrejoinBtn.addEventListener('click', e => {\n    e.preventDefault()\n    rejoinBtn.style.display = 'none'\n    joinLobby()\n})\n\n// Sending a message\nconst chatForm  = document.getElementById('chatForm')! as HTMLFormElement,\n      dataInput = document.getElementById('data')! as HTMLInputElement\nchatForm.addEventListener('submit', e => {\n    e.preventDefault()\n    log('Attempting to broadcast:', htmlSafe(dataInput.value.trim()))\n    dataInput.value = ''\n    node.broadcast(dataInput.value.trim())\n})\n\n// Click Request Random Int\nconst randInt = document.getElementById('randInt')! as HTMLButtonElement\nrandInt.addEventListener('click', () => node.broadcast(new RandomRequest(true)))\n\n// Click Request Random Float\nconst randFloat = document.getElementById('randFloat')! as HTMLButtonElement\nrandFloat.addEventListener('click', () => node.broadcast(new RandomRequest(false)))\n\n// Click disconnect\nconst disconnect = document.getElementById('disconnect')! as HTMLButtonElement\ndisconnect.addEventListener('click', () => node.disconnect())\n\n/** Connects the node to the lobby */\nasync function joinLobby() {\n    if (node) {\n        log('Joining Lobby')\n        bindNode(node)\n        await node.joinLobby()\n        log(htmlSafe(node.name), 'is in the lobby')\n    } else\n        log(Error('Node must be created before binding'))\n}\n\nlog('All entries are logged here')\n",
    "import P2P, {EventNames} from '../..'\nimport lobbyConnect from './lobbyConnect'\nimport myRoomConnect from './myRoomConnect'\nimport {PeerID} from 'ipfs'\nimport log from './log'\nimport { RandomRequest } from './messages'\nimport { htmlSafe } from './util'\n\nconst myPeerList    = document.getElementById('my-peers')! as HTMLUListElement,\n      lobbyPeerList = document.getElementById('lobby-peers')! as HTMLUListElement,\n      chatbox       = document.getElementById('chatbox')! as HTMLDivElement,\n      rejoinBtn     = document.getElementById('rejoin')! as HTMLButtonElement\n\n/** binds the events for the node */\nexport default function bindNode(node: P2P<string>) {\n    node.on(EventNames.error, log)\n\n    node.on(EventNames.connected, () => log('Node connected'))\n    node.on(EventNames.disconnected, () => {\n        myPeerList.innerHTML = ''\n        lobbyPeerList.innerHTML = ''\n        chatbox.style.display = 'none'\n        rejoinBtn.style.display = 'block'\n\n        log('Node disconnected')\n    })\n\n    node.on(EventNames.peerJoin, peer => log('Welcome', htmlSafe(node.peers.get(peer))))\n    node.on(EventNames.peerLeft, peer => log('See ya', htmlSafe(node.peers.get(peer))))\n\n    node.on(EventNames.lobbyChange, peerState => lobbyConnect(node, peerState))\n    node.on(EventNames.meChange, peerState => myRoomConnect(node, peerState))\n\n    // Show chat box and clear peer lists for new peers\n    node.on(EventNames.roomReady, () => {\n        log('Room ready')\n        // We dont care about the lobby anymore, but don't remove if they join back\n        lobbyPeerList.innerHTML = ''\n        myPeerList.innerHTML = ''\n        chatbox.style.display = 'block'\n\n        const li = document.createElement('li')\n        li.className = 'list-group-item list-group-item-primary'\n        li.innerHTML = 'Peers in this room'\n        myPeerList.appendChild(li)\n\n        for(const [peerId, name] of node.peers) {\n            const li = document.createElement('li')\n            li.className = 'list-group-item'\n            li.innerHTML = htmlSafe(name)\n            li.id = `mine-${peerId}`\n            myPeerList.appendChild(li)\n        }\n    })\n\n    // Incoming messages\n    node.on(EventNames.data, ({peer, data}: {peer: PeerID, data: any}) => {\n        const peerName = htmlSafe(node.peers.has(peer) ? node.peers.get(peer)! : node.name)\n\n        if (data instanceof RandomRequest)\n            log(peerName, 'made the random number', node.random(data.isInt))\n        else if (typeof data == 'string')\n            log(peerName, 'says', htmlSafe(data))\n        else {\n            const err = Error('A peer has sent some unexpected data');\n            (err as any).peerID = peer;\n            (err as any).data = data;\n            log(err)\n        }\n    })\n}\n",
    "import P2P from '../..'\nimport {PeerID} from 'ipfs'\nimport log from './log'\nimport { htmlSafe } from './util'\nimport { hasPeers } from './myRoomConnect'\n\nconst peerList = document.getElementById('lobby-peers')! as HTMLUListElement\n\n/** This is triggered when someone joines the lobby */\nexport default function lobbyConnect(\n    node: P2P<any>,\n    {peer, joined}: {peer: PeerID, joined: boolean},\n) {\n    const peerName = htmlSafe(node.peers.get(peer)!)\n\n    if (joined) {\n        log('Welcome to the lobby ', peerName)\n\n        if (peerList.childNodes.length == 0) { // Add title\n            const li = document.createElement('li')\n            li.className = 'list-group-item list-group-item-primary d-flex justify-content-between'\n            li.innerHTML = 'Peers in the lobby'\n            peerList.appendChild(li)\n        }\n\n        const li = document.createElement('li')\n        li.className = 'list-group-item list-group-item-action d-flex align-items-center justify-content-between'\n        li.innerHTML = peerName\n        li.id = `lobby-${peer}`\n\n        if (node.isLobby && !hasPeers()) {\n            const joinBtn = document.createElement('button')\n            joinBtn.className = 'btn btn-outline-secondary joinBtn'\n            joinBtn.innerHTML = 'Join'\n            joinBtn.addEventListener('click', async () => {\n                log('Attempting to join', peerName)\n                joinBtn.disabled = true\n                await node.joinPeer(peer)\n                peerList.innerHTML = '' // we don't know about the lobby anymore\n                log(`Now waiting in ${peerName}'s room`)\n            })\n\n            li.appendChild(joinBtn)\n        }\n        peerList.appendChild(li)\n    } else {\n        log(peerName, 'has left the lobby')\n        peerList.removeChild(document.getElementById(`lobby-${peer}`)!)\n\n        if (peerList.children.length == 1) // Remove title\n            peerList.removeChild(peerList.children[0])\n    }\n}\n",
    "const messagesList = document.getElementById('messages')! as HTMLUListElement\nlet lastLogTime = Date.now()\n\nexport default function log(...args: any[]) {\n    const li = document.createElement('li')\n    li.className = 'list-group-item d-flex justify-content-between'\n\n    let str: string[] = []\n    for(const arg of args) {\n        if (typeof arg == 'string')\n            str.push(arg)\n\n        else if (arg instanceof Error) {\n            li.className += ' list-group-item-danger'\n            str.push(`<h2>${arg.name}</h2> ${arg.message}<br>${\n                Object.keys(arg).length\n                    ? `Error Props<pre>${JSON.stringify({...arg}, null, 2)}</pre>` : ''\n            }<br><pre>${arg.stack}</pre>`)\n        }\n\n        else if (typeof arg == 'number' || typeof arg == 'boolean')\n            str.push(`<code>${arg}</code>`)\n\n        else\n            str.push(`<pre>${JSON.stringify(arg, null, 2)}</pre>`)\n    }\n\n    const timeBetween = Date.now() - lastLogTime\n    li.innerHTML = `<div style=\"overflow-x: auto\">${str.join(' ')}</div>\n    <span class=\"badge badge-pill\" title=\"${Date().toString()}\">${\n        timeBetween > 60 * 1000\n            ? Math.floor(timeBetween / (60 * 1000)) + ' minutes '\n            + Math.floor((timeBetween % (60 * 1000)) / 1000) + ' secs'\n            : timeBetween > 1000\n                ? Math.floor(timeBetween / 1000) + ' secs'\n                : timeBetween + 'ms'\n    }</span>`\n    lastLogTime = Date.now()\n    messagesList.prepend(li)\n}\n",
    "/** Sometimes browserify-shim doesn't know to replace \"../..\" with `window.p2p`. */\nimport {Packer} from '../..'\n\n/** Generate a random number [int or float] that matches all the other peer's number. */\nexport class RandomRequest {\n    constructor(public isInt: boolean) {}\n\n    static pack(inst: RandomRequest) { return inst.isInt }\n    static unpack(isInt: boolean) { return new RandomRequest(isInt) }\n}\n\nPacker(RandomRequest)\n",
    "import P2P from '../..'\nimport {PeerID} from 'ipfs'\nimport log from './log'\nimport { htmlSafe } from './util'\n\nconst peerList = document.getElementById('my-peers')! as HTMLUListElement\nlet numPeersWaiting = 0\n\nexport function hasPeers() {\n    return !!numPeersWaiting\n}\n\n/** This is triggered when someone joines my room */\nexport default function myRoomConnect(\n    node: P2P<any>,\n    {peer, joined}: {peer: PeerID, joined: boolean},\n) {\n    const peerName = htmlSafe(node.peers.get(peer)!)\n\n    if (joined) {\n        numPeersWaiting++\n        log(peerName, 'has joined our room')\n        // can't join others if someone is waiting on me\n        document.querySelectorAll('.joinBtn').forEach(btn => btn.remove())\n\n        if (peerList.childNodes.length == 0) { // Add title\n            const li = document.createElement('li')\n            li.className = 'list-group-item list-group-item-primary d-flex align-items-center justify-content-between'\n            li.innerHTML = 'Peers in our room'\n\n            const readyBtn = document.createElement('button')\n            readyBtn.className = 'btn btn-outline-primary'\n            readyBtn.innerHTML = 'Ready Up'\n            readyBtn.addEventListener('click', async () => {\n                readyBtn.disabled = true\n                log('Attempting ready the room')\n                await node.readyUp()\n                log('Room is ready with ', node.peers.size, 'peers')\n            })\n\n            li.appendChild(readyBtn)\n            peerList.appendChild(li)\n        }\n\n        const li = document.createElement('li')\n        li.className = 'list-group-item'\n        li.innerHTML = peerName\n        li.id = `mine-${peer}`\n        peerList.appendChild(li)\n    } else {\n        numPeersWaiting--\n        log(peerName, 'has left our room')\n        peerList.removeChild(document.getElementById(`mine-${peer}`)!)\n\n        if (peerList.children.length == 1) // Remove title\n            peerList.removeChild(peerList.children[0])\n    }\n}\n",
    "/* Prevent XSS */\nexport function htmlSafe (str: string | void | { toString(): string }) {\n    if(!str)\n        return ''\n\n    const unsafeChars = new Map([\n        ['&', '&amp;'],\n        ['<', '&lt;'],\n        ['>', '&gt;'],\n        ['\"', '&quot;'],\n        ['\\'', '&#x27;'], // &apos; not recommended because its not in the HTML spec\n                          //(See: section 24.4.1) &apos; is in the XML and XHTML specs.\n        ['/', '&#x2F;'],  // forward slash is included as it helps end an HTML entity\n    ])\n\n    let ret = str.toString()\n    for(const [unsafe, safe] of unsafeChars)\n        ret = ret.replace(new RegExp(unsafe, 'g'), safe)\n    return ret\n}\n",
    "module.exports={\n  \"name\": \"p2p-lobby\",\n  \"version\": \"0.0.13\",\n  \"description\": \"A type safe lobby system built on IPFS\",\n  \"scripts\": {\n    \"build:dev\": \"simplifyify index.ts -s p2p -o dist/bundle.js --debug --bundle\",\n    \"build:prod\": \"simplifyify index.ts -s p2p -o dist/bundle.min.js --minify\",\n    \"build:demo\": \"simplifyify demo/demo.ts -o demo/demo.js --debug --bundle\",\n    \"build\": \"npm run build:dev && npm run build:prod && npm run build:demo\",\n    \"mocha\": \"mocha --exit --require ts-node/register/transpile-only --timeout 999999 test/*.test.ts\",\n    \"test\": \"tsc --noEmit && npm run mocha\",\n    \"coverage\": \"nyc -r html -r text-summary -n src/**/*.ts -e .ts npm run mocha\",\n    \"prerelease\": \"tsc && rimraf dist/package.json && npm run build\",\n    \"release\": \"np\"\n  },\n  \"files\": [\n    \"dist/\"\n  ],\n  \"dependencies\": {\n    \"ipfs\": \"^0.32.3\",\n    \"ipfs-repo\": \"^0.24.0\",\n    \"msgpack-lite\": \"^0.1.26\"\n  },\n  \"devDependencies\": {\n    \"@types/events\": \"^1.2.0\",\n    \"@types/mocha\": \"^5.2.5\",\n    \"@types/msgpack-lite\": \"^0.1.6\",\n    \"@types/node\": \"^10.11.4\",\n    \"@types/should\": \"^13.0.0\",\n    \"browserify\": \"^16.2.3\",\n    \"browserify-shim\": \"^3.8.14\",\n    \"mocha\": \"^5.2.0\",\n    \"np\": \"^3.0.4\",\n    \"nyc\": \"^13.1.0\",\n    \"rimraf\": \"^2.6.2\",\n    \"should\": \"^13.2.3\",\n    \"simplifyify\": \"^7.0.0\",\n    \"strict-event-emitter-types\": \"^2.0.0\",\n    \"ts-node\": \"^7.0.1\",\n    \"typescript\": \"^3.1.1\"\n  },\n  \"browserify\": {\n    \"transform\": [\n      \"browserify-shim\"\n    ],\n    \"paths\": [\n      \"./demo\"\n    ]\n  },\n  \"browserify-shim\": {\n    \"..\": \"global:p2p\",\n    \"../..\": \"global:p2p\"\n  }\n}\n"
  ]
}